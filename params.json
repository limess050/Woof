{"name":"Woof","tagline":"Woof's Model for Codeigniter - Less Easy Flexible","body":"# Installation\r\nCopy file **Woof.php** to libraries folder and set auto load library in **config/autoload.php**\r\n\r\n```\r\n$autoload[‘libraries’] = array(‘woof’);\r\n```\r\n\r\n***\r\n\r\n\r\n# Implement your Model\r\nEvery models in your application extends from **Woof** class. Afterward you must define attributes in attributeRule() and set database, table name and other in initialize() as example\r\n\r\n```\r\nclass foo extends Woof\r\n{\r\n  protected function attributeRule()\r\n  {\r\n    return array(\r\n      // Define id field and set Primary key\r\n      array('name'=>'id', 'pk'=>true),\r\n      array('name'=>'fname'),\r\n      array('name'=>'sname')\r\n    );\r\n  }\r\n  protected function initialize()\r\n  {\r\n    // Set select database\r\n    $this->db = 'default'\r\n    // Set table name\r\n    $this->db = 'foo'\r\n  }\r\n}\r\n```\r\n\r\nNote:\r\n\r\n***\r\n\r\n\r\n# CRUD\r\n\r\n### insert() \r\nAdd single record to database. You can set value to attributes which you have defined in attributeRule() method.\r\n\r\n_Syntax_\r\n\r\n```\r\nbool insert();\r\n```\r\n\r\n_Usage_\r\n\r\n```\r\n$this->load->model('foo');\r\n$this->foo->fname = 'Petit';\r\n$this->foo->sname = 'Wong';\r\n$this->foo->insert();\r\n```\r\n\r\n\r\n### set()\r\nAlternative way to setting value through this method rather than put value directly to attribute\r\n\r\n_Syntax_\r\n\r\n```\r\nvoid set(fieldname, value);\r\n```\r\n\r\n_Usage_\r\n\r\n```\r\n$this->load->model(‘foo’);\r\n$this->foo->set(‘fname’, ‘Petit’);\r\n```\r\n\r\n### update()\r\nUpdate records by specific conditions. You can pass Array or Criteria object perform conditions. See also How to define conditions.\r\n\r\n_Syntax_\r\n\r\n```\r\nbool update(Mixed);\r\n```\r\n\r\n_Usage_\r\n\r\n```\r\n$this->load->model(‘foo’);\r\n$this->foo->fname = ‘Windy’;\r\n$this->foo->update(array(‘fname’=>’Petit’));\r\n```\r\n\r\n### updateByPk()\r\nChange data in record by specific primary key value\r\n\r\n_Syntax_\r\n\r\n```\r\nbool updateByPk(value);\r\n```\r\n\r\n_Usage_\r\n\r\n```\r\n$this->load->model(‘foo’);\r\n$this->foo->fname = ‘Windy’;\r\n$this->foo->updateByPk(1);\r\n```\r\n\r\n### delete()\r\nRemove records by specific conditions. You can pass Array or Criteria object perform conditions. See also How to define conditions.\r\n\r\n_Syntax_\r\n\r\n```\r\nbool delete(mixed $conditions);\r\n```\r\n\r\n_Usage_\r\n\r\n```\r\n$this->load->model(‘foo’);\r\n$this->foo->delete(array(‘fname’=>’Petit’));\r\n```\r\n\r\n### deleteByPk()\r\nRemove record by specific primary key value\r\n\r\n_Syntax_\r\n\r\n```\r\nbool deleteByPk(mixed $pkvalue);\r\n```\r\n\r\n_Usage_\r\n\r\n```\r\n$this->load->model(‘foo’);\r\n$this->foo->deleteByPk(1);\r\n```\r\n\r\n### find()\r\nGet single record by specific conditions. If result not found it’ll return blank object. You can pass Array or Criteria object perform conditions. See also How to define conditions.\r\n\r\n_Syntax_\r\n\r\n```\r\nobject find([mixed $conditions]  [, array $fieldsname]);\r\n```\r\n\r\n_Usage_\r\n\r\n```\r\n$this->load->model(‘foo’);\r\n$row = $this->foo->find(array(‘id’=>1));\r\necho $row->fname . ‘ ‘ . $row->sname; // Petit Wong\r\n\r\n// You can also specific fields name\r\n$row = $this->foo->find(array(‘id=>1’), array(‘fname’));\r\necho $row->fname . ‘ ‘ . $row->sname; // Petit\r\n```\r\n\r\n### findAll()\r\nGet records by specific conditions. You can pass Array or Criteria object perform conditions. See also How to define conditions.\r\n\r\n_Syntax_\r\n\r\n```\r\narray findAll([mixed $conditions] [, array $fieldsname]);\r\n```\r\n\r\n_Usage_\r\n\r\n```\r\n$this->load->model(‘product’);\r\n\r\n// Retrieve all records\r\n$this->product->findAll(); \r\n\r\n// Retrieve records that has type_id = 1\r\n$this->product->findAll(array(‘type_id’ => 1)); \r\n\r\n// Retrieve all records and select only product_id and productname fields\r\n$this->product->findAll(null, array(‘product_id’,’product_name’)); \r\n```\r\n\r\n### findByPk()\r\nGet a record by specific primary key value\r\n\r\n_Syntax_\r\n\r\n```\r\nobject findByPk(mixed $value [, array $fieldsname]);\r\n```\r\n\r\n_Usage_\r\n\r\n```\r\n$this->load->model(‘foo’);\r\n$row = $this->foo->findByPk(1)\r\necho $row->fname . ‘ ‘ . $row->sname; // Petit Wong\r\n\r\n// Put fields parameter\r\n$row = $this->foo->findByPk(1, array(‘fname’);\r\necho $row->fname . ‘ ‘ . $row->sname // Petit\r\n```\r\n\r\n### findBySql()\r\nGet record using SQL query command;\r\n\r\n_Syntax_\r\n\r\n```\r\narray findBySql(string $sqlcommand);\r\n```\r\n\r\n_Usage_\r\n\r\n```\r\n$this->load->model(‘foo’);\r\n$this->foo->findBySql(‘SELECT * FROM foo’);\r\n```\r\n\r\n### count()\r\nGet number of record in the table. You can pass Array or Criteria object perform conditions. See also How to define conditions.\r\n\r\n_Syntax_\r\n\r\n```\r\nnumber count([mixed $conditions]);\r\n```\r\n\r\n### max()\r\nGet maximun value of field. You can pass Array or Criteria object perform conditions. See also How to define conditions.\r\n\r\n_Syntax_\r\n\r\n```\r\nnumber max(string $fieldname [, mixed $conditions]);\r\n```\r\n\r\n***\r\n\r\n### min()\r\nGet minimum value of field. You can pass Array or Criteria object perform conditions. See also How to define conditions.\r\n\r\n_Syntax_\r\n\r\n```\r\nnumber min(string $fieldname [, mixed $conditions]);\r\n```\r\n\r\n### avg()\r\nGet average value of field. You can pass Array or Criteria object perform conditions. See also How to define conditions.\r\n\r\n_Syntax_\r\n\r\n```\r\nnumber avg(string $fieldname [, mixed $conditions]);\r\n```\r\n\r\n### sum()\r\nGet summary value of field. You can pass Array or Criteria object perform conditions. See also How to define conditions.\r\n\r\n_Syntax_\r\n\r\n```\r\nnumber sum(string $fieldname [, mixed $conditions]);\r\n```\r\n\r\n### insertId()\r\nGet last insert id of table\r\n\r\n### lastQuery()\r\nGet last SQL queryl command\r\n\r\n# How to define conditions\r\n\r\n### Direct through db object\r\nThe **db** is Active Record object’s Codeigniter. You can access through **db()** method to define command.\r\n\r\n```\r\n$this->load->model(‘foo’);\r\n$this->foo->db()->select(‘*’);\r\n$this->foo->db()->where(‘field1 = 1’);\r\n```\r\n\r\n### Use Array\r\nYou can define conditions by using multiple array. The conditions contain many of arrays which has different key that represent command to query data.\r\n\r\n```\r\narray = (\r\n\tarray(‘select’ => ‘*’),\r\n\tarray(‘where’ => ‘field1 = 1’)\r\n);\r\n```\r\n\r\n### Use Criteria\r\nCriteria is similar Array, but Criteria is object.\r\n\r\n```\r\nCriteria is similar Array, but Criteria is object.\r\n$obj = new Criteria\r\n$obj->select = ‘*’;\r\n$obj->where = ‘field1 = 1’;\r\n```\r\n\r\n**List of command**\r\n* select\r\n* distinct\r\n* like\r\n* or_like\r\n* not_like\r\n* or_not_like\r\n* where\r\n* or_where\r\n* where_in\r\n* where_not_in\r\n* or_where_not_in\r\n* group_by\r\n* having\r\n* or_having\r\n* order_by\r\n* limit\r\n* offset","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}